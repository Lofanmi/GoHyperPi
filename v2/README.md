# GoHyperPi v2 - 多维度CPU性能测试工具

GoHyperPi v2是一个用Go语言编写的多维度CPU性能测试工具，相比v1版本，它提供了更全面的性能测试维度和更详细的性能分析报告。

## 新特性

### 多维度测试
- **计算密集型测试**: 基于Pi计算的整数运算性能测试
- **内存性能测试**: 内存读写性能和缓存效率测试
- **并发性能测试**: Goroutine并发处理和通道通信测试
- **加密性能测试**: 哈希和加密算法性能测试
- **浮点性能测试**: 浮点运算和矩阵运算测试
- **压缩性能测试**: 压缩解压缩算法性能测试
- **算法性能测试**: 排序算法和字符串处理测试

### 增强功能
- 综合评分系统，提供硬件性能等级评定
- 详细的性能分析报告
- 多核效率和扩展性分析
- 支持按类别运行测试
- 报告导出功能
- 丰富的命令行选项

## 安装

```bash
go install github.com/Lofanmi/GoHyperPi/v2@latest
```

## 使用方法

### 基本使用

```bash
# 运行所有测试
./GoHyperPi

# 指定核心数和重复次数
./GoHyperPi -proc 8 -times 2

# 显示详细输出
./GoHyperPi -v

# 运行特定类别测试
./GoHyperPi -category "计算密集型"

# 将报告保存到文件
./GoHyperPi -output report.txt

# 不显示CPU信息
./GoHyperPi -cpu=false
```

### 命令行选项

- `-proc int`: 处理器核心数 (默认: 系统逻辑核心数)
- `-times int`: 每个核心的重复测试次数 (默认: 1)
- `-v`: 显示详细输出 (默认: false)
- `-cpu`: 显示CPU信息 (默认: true)
- `-category string`: 只运行指定类别的测试
- `-output string`: 将报告保存到指定文件

### 测试类别

- `计算密集型`: Pi计算等整数运算密集型任务
- `内存性能`: 内存读写和缓存性能
- `并发性能`: Goroutine并发和通道通信
- `加密性能`: 哈希和加密算法
- `浮点性能`: 浮点运算和数学函数
- `压缩性能`: 压缩解压缩算法
- `算法性能`: 排序和字符串处理算法

## 实际测试结果

### E5-2696v3 (鸡血 -50mV、10核心10线程) 跑分
```bash
./GoHyperPi
```

```
=== CPU 信息 ===
CPU 名称: Intel(R) Xeon(R) CPU E5-2696 v3 @ 2.30GHz
物理核心: 18
每核心线程数: 2
逻辑核心: 36
CPU 系列: 6, 型号: 63, 厂商ID: Intel
CPU 指令集: AESNI, AVX, AVX2, BMI1, BMI2, CLMUL, CMOV, CMPXCHG8, CX16, ERMS, F16C, FLUSH_L1D, FMA3, FXSR, FXSROPT, HTT, IBPB, LAHF, LZCNT, MD_CLEAR, MMX, MOVBE, NX, OSXSAVE, POPCNT, RDRAND, RDTSCP, SPEC_CTRL_SSBD, SSE, SSE2, SSE3, SSE4, SSE42, SSSE3, STIBP, SYSCALL, SYSEE, VMX, X87, XSAVE, XSAVEOPT
缓存行大小: 64 字节
L1 数据缓存: 32768 字节
L1 指令缓存: 32768 字节
L2 缓存: 262144 字节
L3 缓存: 47185920 字节
CPU 频率: 2300000000 Hz
操作系统: windows amd64

开始运行性能测试...

正在测试 圆周率计算（Pi Calculation） ...

测试完成（用时 8.40s）
正在测试 位运算测试（Bit Operations） ...
测试完成（用时 19.45ms）
正在测试 整数运算测试（Integer Operations） ...
测试完成（用时 38.08ms）
正在测试 内存访问测试（Memory Access） ...
测试完成（用时 142.51ms）
正在测试 顺序内存访问（Sequential Memory） ...
测试完成（用时 63.37ms）
正在测试 并发测试（Concurrency Test） ...
测试完成（用时 989.30ms）
正在测试 通道通信测试（Channel Communication） ...
测试完成（用时 6.85ms）
正在测试 加密算法测试（Cryptography） ...
测试完成（用时 97.62ms）
正在测试 高级加密算法（Advanced Cryptography） ...
测试完成（用时 5.00ms）
正在测试 哈希函数测试（Hash Functions） ...
测试完成（用时 437.74ms）
正在测试 浮点运算测试（Floating Point） ...
测试完成（用时 311.88ms）
正在测试 三角函数计算（Trigonometric Functions） ...
测试完成（用时 258.97ms）
正在测试 矩阵运算测试（Matrix Operations） ...
测试完成（用时 35.49ms）
正在测试 压缩性能测试（Compression） ...
测试完成（用时 100.29ms）
正在测试 Gzip压缩（Gzip） ...
测试完成（用时 89.97ms）
正在测试 排序算法测试（Sorting Algorithms） ...
测试完成（用时 16.27ms）
正在测试 字符串处理（String Processing） ...
测试完成（用时 709.87ms）
正在测试 二进制处理（Binary Processing） ...
测试完成（用时 16.87ms）

=== GoHyperPi v2 性能测试报告 ===

综合得分: 2168.17

分类得分:
  计算密集型       :  2675.07 (权重: 20%)
  内存性能        :    30.54 (权重: 15%)
  并发性能        :  5522.89 (权重: 15%)
  加密性能        :  1820.39 (权重: 15%)
  浮点性能        :  2184.91 (权重: 15%)
  压缩性能        :   246.28 (权重: 10%)
  算法性能        :  1747.16 (权重: 10%)

详细测试结果:
  计算密集型  | 圆周率计算（Pi Calculation）            | 得分:    25.11 | 单核:  6060.52 | 多核: 59524.72 | 多核/单核: 9.82
  计算密集型  | 位运算测试（Bit Operations）            | 得分:  4000.04 | 单核: 3321057612.47 | 多核: 26677037510.98 | 多核/单核: 8.03
  计算密集型  | 整数运算测试（Integer Operations）       | 得分:  4000.04 | 单核: 3300699087.24 | 多核: 26568176721.54 | 多核/单核: 8.05
  内存性能   | 内存访问测试（Memory Access）            | 得分:    28.83 | 单核:     0.73 | 多核:     6.86 | 多核/单核: 9.37
  内存性能   | 顺序内存访问（Sequential Memory）        | 得分:    32.25 | 单核:     0.84 | 多核:     7.71 | 多核/单核: 9.16
  并发性能   | 并发测试（Concurrency Test）           | 得分:  1045.77 | 单核: 1051158.22 | 多核: 10111452.66 | 多核/单核: 9.62
  并发性能   | 通道通信测试（Channel Communication）    | 得分: 10000.00 | 单核:     +Inf | 多核:     +Inf | 多核/单核: NaN
  加密性能   | 加密算法测试（Cryptography）             | 得分:  2710.51 | 单核: 565857.50 | 多核: 5124646.93 | 多核/单核: 9.06
  加密性能   | 高级加密算法（Advanced Cryptography）    | 得分:  2004.80 | 单核: 113728.80 | 多核: 1001103.58 | 多核/单核: 8.80
  加密性能   | 哈希函数测试（Hash Functions）           | 得分:   745.85 | 单核: 473029.94 | 多核: 4569962.07 | 多核/单核: 9.66
  浮点性能   | 浮点运算测试（Floating Point）           | 得分:  2207.86 | 单核: 16639156.40 | 多核: 160383367.58 | 多核/单核: 9.64
  浮点性能   | 三角函数计算（Trigonometric Functions）  | 得分:  1893.58 | 单核: 8096627.08 | 多核: 77267296.33 | 多核/单核: 9.54
  浮点性能   | 矩阵运算测试（Matrix Operations）        | 得分:  2453.29 | 单核:    33.89 | 多核:   282.98 | 多核/单核: 8.35
  压缩性能   | 压缩性能测试（Compression）              | 得分:   300.48 | 单核:  1025.08 | 多核:  9974.88 | 多核/单核: 9.73
  压缩性能   | Gzip压缩（Gzip）                     | 得分:   192.08 | 单核:   582.76 | 多核:  5562.40 | 多核/单核: 9.54
  算法性能   | 排序算法测试（Sorting Algorithms）       | 得分:   859.66 | 单核: 718624.32 | 多核: 6238666.66 | 多核/单核: 8.68
  算法性能   | 字符串处理（String Processing）         | 得分:   381.79 | 单核:  1421.17 | 多核: 14087.37 | 多核/单核: 9.91
  算法性能   | 二进制处理（Binary Processing）         | 得分:  4000.04 | 单核: 3386527474.48 | 多核: 30413480802.70 | 多核/单核: 8.98


总测试时间: 2m43.4762603s
```

## 注意事项

- 综合得分受硬件配置、系统环境等多种因素影响
- 建议多次运行测试取平均值以获得更准确的结果
- 不同设备和平台的得分不具有直接可比性

## 技术特点

- 模块化设计，易于扩展新的测试项目
- 充分利用Go语言的并发特性
- 标准化的性能指标和评分系统
- 跨平台支持 (Windows, macOS, Linux)
- 低内存占用，高效的性能测试

## 与v1版本对比

| 特性 | v1版本 | v2版本 |
|------|--------|--------|
| 测试维度 | 1个 (Pi计算) | 13个 |
| 测试类别 | 1个 | 7个 |
| 评分系统 | 简单比例 | 综合加权评分 |
| 性能分析 | 基础 | 详细分析报告 |
| 报告导出 | 无 | 支持 |

## 系统要求

- Go 1.21+
- 内存: 至少100MB可用内存
- 操作系统: Windows, macOS, Linux

## 许可证

Apache License, Version 2.0

## 贡献

欢迎提交Issue和Pull Request来帮助改进这个项目！

## 更新日志

### v2.0.0
- 新增多维度性能测试
- 实现综合评分系统
- 添加详细的性能分析报告
- 增强命令行界面
- 优化性能测试算法
- 添加报告导出功能
